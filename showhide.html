<HTML>
<HEAD>
<meta charset="UTF-8">

<STYLE>


body {
    background-image: url("images/tiles.gif");
    background-repeat: repeat;
    background-color: white;
    color: black;
    font-family: 'CherryCreamSoda', Helvetica, sans-serif;
    font-style: normal;
    font-size: 1.0625em;
   /* 
   17px;
   red=#EA2020
   light blue=#82E8F6
   pink=#FFBAD7
   white=#FFFFFF
   black=#000000
   grey=#585858
   */
}

img {
	border: 0;
}

@font-face {
	font-family: 'CherryCreamSoda';
	src: url('misc/CherryCreamSoda.ttf'); 
	src: local('Cherry Cream Soda'),
	     local('Cherry-Cream-Soda'),
             url('misc/CherryCreamSoda.ttf') 
	     format('truetype');
}



#photosArea {
	background: #EEEEEE;
	display: inline-block;
	padding:3px;
}
.polaroids {
	background: #EEEEEE;
	margin:0px;
	padding:10px;
}
.polaroid {
	background: #EEEEEE;
	display: inline-block;
	padding:3px;
}
.polaroidTable {
	border: 1px solid #000000;
	border-collapse: collapse;
	display: inline-block;
}

.photocellrow {
	height: 315px;
	max-height: 315px;
}
.photocell {
	background: #FFFFFF;
	padding-top: 10px;
	padding-right: 10px;
	padding-left: 10px;
	padding-bottom: 5px;
	border: none;
	width: 300px;
	height: 300px;
	max-width: 300px;
	max-height: 300px;
}
.photoH {
	width: 300px;	
	display: block;
	margin: 0px;
}
.photoV {
	height: 300px;	
	display: block;
	margin: auto;
}

.phototextrow {
	height: 70px;
	max-height: 70px;
}
.phototextcell {
	background: #FFFFFF;
	padding-top: 0px;
	padding-right: 10px;
	padding-bottom: 10px;
	padding-left: 10px;
	text-align: left;
	vertical-align: top;
	border:none;
}


.largePolaroids {
	background: #EEEEEE;
	margin:0px;
	padding:10px;
}
.largePolaroid {
	background: #EEEEEE;
	display: inline-block;
	padding:3px;
}
.largePolaroidTable {
	border: 1px solid #000000;
	border-collapse: collapse;
	display: inline-block;
}

.largePhotocellrow {
	height: 315px;
	max-height: 315px;
}
.largePhotocell {
	background: #FFFFFF;
	padding-top: 10px;
	padding-right: 10px;
	padding-left: 10px;
	padding-bottom: 5px;
	border: none;
	width: 300px;
	height: 300px;
	max-width: 300px;
	max-height: 300px;
}
.largePhotoH {
	width: 300px;	
	display: block;
	margin: 0px;
}
.largePhotoV {
	height: 300px;	
	display: block;
	margin: auto;
}

.largePhototextrow {
	height: 70px;
	max-height: 70px;
}
.largePhototextcell {
	background: #FFFFFF;
	padding-top: 0px;
	padding-right: 10px;
	padding-bottom: 10px;
	padding-left: 10px;
	text-align: left;
	vertical-align: top;
	border:none;
}


</STYLE>

<script type="text/javascript">

//------------------
//User Variables Here
//var albumFile = "file:///home/anbritto_gb/Documents/AJB/test/albums.json";
var albumFile = "albums.json";
var albumsPerPage = 7;
var slideShowSlideTime = 4; // should be 8
var myVar = setInterval(theTimer, 500);
//------------------



var theTime = 0;
var slideShowRunning = false;

function theTimer() {
  theTime += 1;
  if (theTime > slideShowSlideTime) { 
    theTime = 0;
    if (slideShowRunning) {
      showAPhoto(nextPhotoIndex);
    }
  }
//document.getElementById("tempText").innerHTML = "theTime="+theTime;
}

//all photos
var photoArray = [];
var masterPhotoIndex = 0;
var albumArray = [];

var prevPhotoIndex = 0;
var selectedPhotoIndex = 0;
var nextPhotoIndex = 0;

//a page has: array of albums (calculated from 'number of albums')
var currentPageIndex = 0;
var pageArray = [];

//cache for big photos
var photo1cache = -1;
var photo2cache = -1;
var photo3cache = -1;



function assignSelectedPrevNext(photoIndex) {
  selectedPhotoIndex = photoIndex;
  prevPhotoIndex = photoIndex-1;
  if (prevPhotoIndex<0) { prevPhotoIndex = photoArray.length - 1; }
  nextPhotoIndex = photoIndex+1;
  if (nextPhotoIndex>=photoArray.length) { nextPhotoIndex = 0; }
}

//search for and return cache number for passed index
function locateCacheForPhoto(photoIndex) {
  var r=-1;
  if (photo1cache==photoIndex) {r=1;}
  if (photo2cache==photoIndex) {r=2;}
  if (photo3cache==photoIndex) {r=3;}
  return r;
}

//single cache
function assignCache(cacheNumber,fileName) {
//Full screen polaroid style

//o = "<DIV onClick='buttonNextPhoto()' style='display:inline'>"+fileName+".jpg</DIV>";

//TODO determine photoH or photoV
  var HorV = "largePhotoH";

//TODO caption
  var caption = "xxxxx xxxxx";

  o = "<DIV class='largePolaroid' onClick='buttonNextPhoto()'><TABLE class='largePolaroidTable'><TR class='largePhotocellrow'><TD class='largePhotocell'><img src='"+fileName+".jpg' class='"+HorV+"'  alt='x"+caption+"'></TD></TR><TR class='largePhototextrow'><TD class='largePhototextcell'>"+caption+"</TD></TR></TABLE></DIV>";

  document.getElementById('bigPhoto'+cacheNumber).innerHTML = o;
}

//assign all available caches
function assignAllCache(photoArrayRef) {
  //select photo, prev and next
  assignSelectedPrevNext(photoArrayRef);

  if (photo1cache==-1) {
    //first photo selected (no existing cached photos), load cache
    photo1cache = selectedPhotoIndex;
    photo2cache = prevPhotoIndex;
    photo3cache = nextPhotoIndex;
    assignCache("1", photoArray[selectedPhotoIndex].fileName);
    assignCache("2", photoArray[prevPhotoIndex].fileName);
    assignCache("3", photoArray[nextPhotoIndex].fileName);
  }
  //assign cache
  selectCacheNumber = locateCacheForPhoto(photoArrayRef);
  prevCacheNumber = locateCacheForPhoto(prevPhotoIndex);
  nextCacheNumber = locateCacheForPhoto(nextPhotoIndex);
  if (selectCacheNumber==-1) {
    //image not cached, select a cache that is not needed for something else
    if ((prevCacheNumber!=1) && (nextCacheNumber!=1)) {
      selectCacheNumber = 1;
      photo1cache = selectedPhotoIndex;
      assignCache("1",photoArray[selectedPhotoIndex].fileName);
    } else {
      if ((prevCacheNumber!=2) && (nextCacheNumber!=2)) {
        selectCacheNumber = 2;
        photo2cache = selectedPhotoIndex;
        assignCache("2",photoArray[selectedPhotoIndex].fileName);
      } else {
        if ((prevCacheNumber!=3) && (nextCacheNumber!=3)) {
          selectCacheNumber = 3;
          photo3cache = selectedPhotoIndex;
          assignCache("3",photoArray[selectedPhotoIndex].fileName);
        }
      }
    }
  }
  if (prevCacheNumber==-1) {
    //image not cached, select a cache that is not needed for something else
    if ((nextCacheNumber!=1) && (selectCacheNumber!=1)) {
      prevCacheNumber = 1;
      photo1cache = prevPhotoIndex;
      assignCache("1",photoArray[prevPhotoIndex].fileName);
    } else {
      if ((nextCacheNumber!=2) && (selectCacheNumber!=2)) {
        prevCacheNumber = 2;
        photo2cache = prevPhotoIndex;
        assignCache("2",photoArray[prevPhotoIndex].fileName);
      } else {
        if ((nextCacheNumber!=3) && (selectCacheNumber!=3)) {
          prevCacheNumber = 3;
          photo3cache = prevPhotoIndex;
          assignCache("3",photoArray[prevPhotoIndex].fileName);
        }
      }
    }
  }
  if (nextCacheNumber==-1) {
    //image not cached, select a cache that is not needed for something else
    if ((prevCacheNumber!=1) && (selectCacheNumber!=1)) {
      nextCacheNumber = 1;
      photo1cache = nextPhotoIndex;
      assignCache("1",photoArray[nextPhotoIndex].fileName);
    } else {
    if ((prevCacheNumber!=2) && (selectCacheNumber!=2)) {
        nextCacheNumber = 2;
        photo2cache = nextPhotoIndex;
        assignCache("2",photoArray[nextPhotoIndex].fileName);
      } else {
        if ((prevCacheNumber!=3) && (selectCacheNumber!=3)) {
          nextCacheNumber = 3;
          photo3cache = nextPhotoIndex;
          assignCache("3",photoArray[nextPhotoIndex].fileName);
        }
      }
    }
  }
//document.getElementById('tempText').innerHTML = "CACHE DEBUG C: photoArrayRef="+photoArrayRef+" selected file="+photoArray[photoArrayRef].fileName+" prevPhotoIndex="+prevPhotoIndex+" selectedPhotoIndex="+selectedPhotoIndex+" nextPhotoIndex="+nextPhotoIndex+" photo1cache="+photo1cache+" photo2cache="+photo2cache+" photo3cache="+photo3cache + " prevCacheNumber="+prevCacheNumber+" selectCacheNumber="+selectCacheNumber+" nextCacheNumber="+nextCacheNumber;
  return selectCacheNumber;
}

function showAPhoto(photoArrayRef) {
//document.getElementById('tempText').innerHTML = photoArrayRef;
  useCacheNumber = assignAllCache(photoArrayRef);
  showPhoto(photoArrayRef, useCacheNumber);
}


function showPhoto(photoArrayRef,cacheNumber) {
//document.getElementById('tempText').innerHTML = "SHOW CACHE 'bigPhoto'"+cacheNumber;

  //hide small photos, show controls
  document.getElementById('photosArea').style.display = 'none';
  document.getElementById('controls').style.display = 'inline';

  //show correct big photo.... cacheNumber
  document.getElementById('bigPhotoArea').style.display = 'inline';
  if (cacheNumber==1) {
    document.getElementById('bigPhoto1').style.display = 'inline';
    document.getElementById('bigPhoto2').style.display = 'none';
    document.getElementById('bigPhoto3').style.display = 'none';
  } else {
    document.getElementById('bigPhoto1').style.display = 'none';
    if (cacheNumber==2) {
      document.getElementById('bigPhoto2').style.display = 'inline';
      document.getElementById('bigPhoto3').style.display = 'none';
    } else {
      document.getElementById('bigPhoto2').style.display = 'none';
      document.getElementById('bigPhoto3').style.display = 'inline';
    }
  }
}

function buttonPrevPhoto() {
  theTime = 0;
  showAPhoto(prevPhotoIndex);
}


function buttonNextPhoto() {
  theTime = 0;
  showAPhoto(nextPhotoIndex);
}


function buttonClosePhoto() {
  theTime = 0;
  slideShowRunning = false;
  closePhoto();
}


function closePhoto() {

//TODO
//dont remove all style....this explains missing style
//dots[i].className = dots[i].className.replace(" active", "");

  //controls
  document.getElementById('controls').style.display = 'none';
  document.getElementById('buttonPause').style.display = 'none';
  document.getElementById('buttonStart').style.display = 'inline';

  document.getElementById('photosArea').style.display = 'inline';

  //hide all big photos
  document.getElementById('bigPhoto1').style.display = 'none';
  document.getElementById('bigPhoto2').style.display = 'none';
  document.getElementById('bigPhoto3').style.display = 'none';
  document.getElementById('bigPhotoArea').style.display = 'none';
}


function buttonStartSlideshow() {
  slideShowRunning = true;
  document.getElementById('buttonPause').style.display = 'inline';
  document.getElementById('buttonStart').style.display = 'none';
  theTime = 0;
  showAPhoto(selectedPhotoIndex);

}


function buttonPauseSlideshow() {
  slideShowRunning = false;
  document.getElementById('buttonPause').style.display = 'none';
  document.getElementById('buttonStart').style.display = 'inline';
}


function displayPhoto(aPhoto,albumIndex,photoIndex) {
  //place photo: photo info and photo image
//  o = "<DIV id='a"+albumIndex+"p"+photoIndex+"Image' style='display: inline' alt='"+aPhoto.caption+"' onClick='showAPhoto("+aPhoto.photoArrayRef+")'>["+aPhoto.fileName+"-thumb.jpg]</DIV>";
//  o += "<DIV id='a"+albumIndex+"p"+photoIndex+"Caption' style='display: inline' onClick='showAPhoto("+aPhoto.photoArrayRef+")'>"+aPhoto.caption+"</DIV>";
//  document.getElementById("a"+albumIndex+"p"+photoIndex+"PhotoArea").innerHTML = o;

//TODO determine photoH or photoV
  var HorV = "photoH";

  o = "<DIV class='polaroid' onClick='showAPhoto("+aPhoto.photoArrayRef+")'><TABLE class='polaroidTable'><TR class='photocellrow'><TD class='photocell'><img src='"+aPhoto.fileName+"-thumb.jpg' class='"+HorV+"'  alt='"+aPhoto.caption+"'></TD></TR><TR class='phototextrow'><TD class='phototextcell'>"+aPhoto.caption+"</TD></TR></TABLE></DIV>";

  document.getElementById("a"+albumIndex+"p"+photoIndex+"PhotoArea").innerHTML = o;
}


function displayAlbum(anAlbum,albumIndex) {
  //place album: album info and photos
  if (anAlbum.url=="") {
    linkText = "";
  } else {
    linkText = "<DIV id='album"+albumIndex+"URLTitle'><a href='"+anAlbum.url+"'>"+anAlbum.urlTitle+"</a></DIV>";
  }

  o = "<DIV class='albuminfo'>";
  o += "<DIV id='album"+albumIndex+"Title'>"+anAlbum.title+"</DIV>";
  o += linkText;
  o += "<DIV id='album"+albumIndex+"Caption'>"+anAlbum.caption+"</DIV>";
  o += "<DIV id='album"+albumIndex+"Photos' class='polaroids'></DIV>";
  o += "</DIV>";
  document.getElementById('album'+albumIndex+"Area").innerHTML = o;

  //create placeholders for each photo in this album
  a = "";
  for (i = 0; i < anAlbum.photos.length; i++) {
    a += "<DIV id='a"+albumIndex+"p"+i+"PhotoArea' style='display: inline-block'></DIV>";
  }
  document.getElementById("album"+albumIndex+"Photos").innerHTML = a;

  //display all album photos in placeholders
  for (photoIndex = 0; photoIndex < anAlbum.photos.length; photoIndex++) {
    displayPhoto(anAlbum.photos[photoIndex],albumIndex,photoIndex);
  }
}


function displayPage(pageNumIndex) {
  //create placeholders for each album
  var tempAlbumArray = pageArray[pageNumIndex];
  o = "";
  for (albumIndex = 0; albumIndex < tempAlbumArray.length; albumIndex++) {
    o += "<DIV id='album"+albumIndex+"Area'></DIV>"
  }
  document.getElementById('photoThumbnailPage').innerHTML = o;
  //display all albums in placeholders
  for (albumIndex = 0; albumIndex < tempAlbumArray.length; albumIndex++) {
    displayAlbum(tempAlbumArray[albumIndex],albumIndex);
  }
}



//sets and displays that page
function showPage(pageNumIndex) {
  //set page number
  currentPageIndex = pageNumIndex;
  //display all albums on this page
  displayPage(pageNumIndex)
}

//show a control for each available page
function showPagesControls() {
  o = "";  
  for (pageIndex = 0; pageIndex < pageArray.length; pageIndex++) {
    if (pageIndex!=0) {
      o += ", ";
    }
    o += "<DIV id='pageControl("+pageIndex+")' style='display: inline' onClick='showPage("+pageIndex+")'>["+(pageIndex+1)+"]</DIV>";
  }
  document.getElementById('photoPageControlsAbove').innerHTML = o;
  document.getElementById('photoPageControlsBelow').innerHTML = o;
}


//auto assign albums onto pages
function assignAlbumsOntoPages() {
  if (albumsPerPage<1) { albumsPerPage = 1; }
  f = Math.floor(albumArray.length / albumsPerPage);
  for (i = 0; i < f; i++) {
    var temparray =[];
    offset = (i*albumsPerPage);
    for (a = 0; a < albumsPerPage; a++) {
      temparray.push( albumArray[a + offset] )
    }
    pageArray.push(temparray);
  }
  m = albumArray.length % albumsPerPage;
  offset = (f*albumsPerPage);
  var temparray =[];
  for (a = 0; a < m; a++) {
    temparray.push( albumArray[a + offset] )
  }
  if (temparray.length != 0) {
    pageArray.push(temparray);
  }
}


</script>

</HEAD>
<BODY onload="startWebPageCode()">

<DIV id='tempText'>x</DIV>
<DIV>header stuff here</DIV>

<!-- photo page display area !-->
<DIV id='photosArea' style="background: #AAEEEE;padding:3px;">
<DIV id='photoPageControlsAbove' style='color: blue;'></DIV>
<DIV id='photoThumbnailPage'></DIV>
<DIV id='photoPageControlsBelow' style='color: blue;'></DIV>
</DIV>
<!-- full screen photo display area (and caches) !-->
<DIV id='bigPhotoArea' style="display: none" class="largePolaroids">
<DIV id='bigPhoto1' style="display: none" class="largePolaroid">big1 here</DIV>
<DIV id='bigPhoto2' style="display: none" class="largePolaroid">big2 here</DIV>
<DIV id='bigPhoto3' style="display: none" class="largePolaroid">big3 here</DIV>
</DIV>

<!-- photo controls !-->
<DIV id='buttonStart' style="display: inline;background: #EEEEEE;padding:2px;" onClick="buttonStartSlideshow()">[PLAY]</DIV>
<DIV id='buttonPause' style="display: none;background: #EEEEEE;padding:2px;" onClick="buttonPauseSlideshow()">[PAUSE]</DIV>
<DIV id='controls' style="display: none">
<DIV id='buttonprevious' style="display: inline;background: #EEEEEE;padding:2px;" onClick="buttonPrevPhoto()">[PREV]</DIV>
<DIV id='buttonnext' style="display: inline;background: #EEEEEE;padding:2px;" onClick="buttonNextPhoto()">[NEXT]</DIV>
<DIV id='buttonclose' style="display: inline;background: #EEEEEE;padding:2px;" onClick="buttonClosePhoto()">[CLOSE]</DIV>
</DIV>

<!--
<DIV class='polaroids'>
<DIV class='polaroid'><TABLE class='polaroidTable'><TR class='photocellrow'><TD class='photocell'><img src='photos/andybgoode0007.jpg' class='photoH' alt='AndyBGoode Flyer'></TD></TR><TR class='phototextrow'><TD class='phototextcell'>description of great day 1 xxx xxx xxxxxx xxxx xxx xxx xxxxxx xxxx</TD></TR></TABLE></DIV>
<DIV class='polaroid'><TABLE class='polaroidTable'><TR class='photocellrow'><TD class='photocell'><img src='photos/andybgoode0007.jpg' class='photoH' alt='AndyBGoode Flyer'></TD></TR><TR class='phototextrow'><TD class='phototextcell'>description of great day 2 xx1 xx2 xxxxx3 xxx4 xx5 xx6 xxxxx7 xxx8 xxx9 xx10 xxx11</TD></TR></TABLE></DIV>
<DIV class='polaroid'><TABLE class='polaroidTable'><TR class='photocellrow'><TD class='photocell'><img src='photos/andybgoode0013.jpg' class='photoV' alt='AndyBGoode Flyer'></TD></TR><TR class='phototextrow'><TD class='phototextcell'>description of great day 3</TD></TR></TABLE></DIV>
<DIV class='polaroid'><TABLE class='polaroidTable'><TR class='photocellrow'><TD class='photocell'><img src='photos/andybgoode0006.jpg' class='photoH' alt='AndyBGoode Flyer'></TD></TR><TR class='phototextrow'><TD class='phototextcell'>description of great day 4 xxx xxx xxxxxx xxxx xxx xxx xxxxxx xxxx</TD></TR></TABLE></DIV>
<DIV class='polaroid'><TABLE class='polaroidTable'><TR class='photocellrow'><TD class='photocell'><img src='photos/andybgoode0013.jpg' class='photoV' alt='AndyBGoode Flyer'></TD></TR><TR class='phototextrow'><TD class='phototextcell'>description of great day 5 xxx xxx xxxxxx xxxx xxx xxx xxxxxx xxxx</TD></TR></TABLE></DIV>
<DIV class='polaroid'><TABLE class='polaroidTable'><TR class='photocellrow'><TD class='photocell'><img src='photos/andybgoode0007.jpg' class='photoH' alt='AndyBGoode Flyer'></TD></TR><TR class='phototextrow'><TD class='phototextcell'>description of great day 6 xxx xxx xxxxxx xxxx xxx xxx xxxxxx xxxx</TD></TR></TABLE></DIV>
<DIV class='polaroid'><TABLE class='polaroidTable'><TR class='photocellrow'><TD class='photocell'><img src='photos/xxx.jpg' class='photoH' alt='AndyBGoode Flyer'></TD></TR><TR class='phototextrow'><TD class='phototextcell'>description of great day 7</TD></TR></TABLE></DIV>
</DIV>
-->

<DIV>footer stuff</DIV>


<script type="text/javascript" src="albums.json"></script>
<script type="text/javascript">

function startWebPageCode() {
  //DEBUG


//  document.getElementById('tempText').innerHTML = "TEST HERE";

  loadJSON(myJSONcallback);
  //no code below here
}
function loadJSON(callbackFunction) { 
  var  xhttp = new XMLHttpRequest();
   xhttp.overrideMimeType("application/json");
   xhttp.open('GET', albumFile, true);
//alert("TEST loadJSON A1 - ok");
   xhttp.onreadystatechange = function () {
    if ( xhttp.readyState == 4) {
//alert("TEST loadJSON A2  xhttp.readyState="+ xhttp.readyState + "  xhttp.status="+ xhttp.status);
      if ( xhttp.status == "200") {
	//Firefox
        callbackFunction( xhttp.responseText);
      }
      if ( xhttp.status == "0") {
        //Chrome needs status 0
//alert("TEST loadJSON A3 xhttp.responseText="+xhttp.responseText);
        callbackFunction( xhttp.responseText);
      }
    }
  }
  xhttp.send(null);
}
function myJSONcallback(response) {
  // json data should be wrapped in square brackets
//alert("TEST myJSONcallback myJSONcallback B1 response="+response);
  var rawJsonObj = JSON.parse(response);
//var rawJsonObj = eval('(' + response + ')');

//alert("TEST myJSONcallback myJSONcallback B2 rawJsonObj="+rawJsonObj);
  var tempalbumJSONArray = rawJsonObj[0].albums;
  for (albumIndex = 0; albumIndex < tempalbumJSONArray.length; albumIndex++) {
//alert("TEST myJSONcallback myJSONcallback B3 albumIndex="+albumIndex);
    assignAlbumFromJSON( tempalbumJSONArray[albumIndex] );
  }
  initVars();
}

function assignAlbumFromJSON(albumJSON) {
  var tempPhotoArray = [];
  for (i = 0; i < albumJSON.photos.length; i++) {
    var tempPhoto = {fileName:albumJSON.folder+albumJSON.photos[i].img, caption:albumJSON.photos[i].cap, tags:albumJSON.photos[i].tags, photoArrayRef:masterPhotoIndex};
    masterPhotoIndex++;
    tempPhotoArray.push(tempPhoto);
    photoArray.push(tempPhoto);
  }
  var anAlbum = {title:albumJSON.title, caption:albumJSON.desc, folder:albumJSON.folder, urlTitle:albumJSON.urlTitle, url:albumJSON.url, photos: tempPhotoArray}; 
  albumArray.push(anAlbum);
}


function initVars() {

//console.log("TEST");
//document.getElementById('tempText').innerHTML = "TEST";

  prevPhotoIndex = 0; //last
  selectedPhotoIndex = 0; //first
  nextPhotoIndex = 0; //second

  //assign albums onto pages, then show first page 
  assignAlbumsOntoPages();
  showPagesControls();
  showPage(0);

//TODO Thumbnail Photos
//TODO Full Screen Photos
//TODO High Res Photos
//TODO Thumbnail Presentation
//TODO Full Screen Photo Presentation

//TODO DOWNLOAD button when full screen..show same time as next button

//TODO Image for play button
//TODO Image for pause button
//TODO Image for previous button
//TODO Image for next button

//TODO Test on Firefox .... TESTED OK
//TODO Test on Chrome ..... TESTED OK
//TODO Test on IE ......... 
//TODO Test on Edge ....... 
//TODO Test on Android .... 
//TODO Test on Safari ..... 

//TODO Display Tag cloud

}


</script>

</BODY>
</HTML>
